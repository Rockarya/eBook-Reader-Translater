(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{103:function(e,t){},139:function(e,t,a){},140:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},170:function(e,t,a){},174:function(e,t,a){},203:function(e,t){},204:function(e,t){},205:function(e,t){},206:function(e,t){},207:function(e,t){},210:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(0),c=a.n(o),i=a(12),s=a.n(i),r=(a(139),a(41)),l=a(37),d=(a(140),a(88),a(18)),j=a(14),u=a.n(j),h=a(264),b=a(287);a(104);var m=a(34),p=a(47),g=a(27),O=a(50),x=a(49),f=a(266),w=a(59),v=a(290),C=a(286),y=a(267),k=(a(163),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={name:"",email:"",password:""},n.onChangeName=n.onChangeName.bind(Object(g.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(g.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/legit",{withCredentials:!0}).then((function(e){console.log(e.data,"this is the response"),e.data&&(window.location="/",console.log(document.cookie+"this cookie"))})).catch((function(e){console.log(e)})),console.log(Date())}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password};u.a.post("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/register",t,{withCredentials:!0}).then((function(e){200==e.status&&(alert("created "+e.data.name),window.location="/login"),204===e.status&&alert("Email already exists!")})).catch((function(e){console.log(e),window.location="/register"}))}},{key:"render",value:function(){return Object(n.jsx)(f.a,{children:Object(n.jsx)(b.a,{bgcolor:"white",boxShadow:"10",borderColor:"black",borderRadius:"15px",textAlign:"center",p:"30px",mt:"50px",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{id:"loginicon"}),Object(n.jsx)("div",{id:"logincontainer",children:Object(n.jsxs)(w.a,{component:"div",id:"logintypo",children:[Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)(v.a,{name:"switched",color:"primary"}),Object(n.jsx)("label",{id:"cat",children:"Request Admin Access"}),Object(n.jsx)(C.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"name",label:"Name",type:"text",id:"name",onChange:this.onChangeName}),Object(n.jsx)(C.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"email",label:"Email",type:"text",id:"email",onChange:this.onChangeEmail}),Object(n.jsx)(C.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.onChangePassword}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",id:"signupbutton",onClick:this.onSubmit,children:"Sign Up"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("p",{id:"nouser",children:["Already registered? ",Object(n.jsx)("a",{id:"tandc",href:"http://localhost:3000/login",children:"Sign In"})]})]})})]})})})}}]),a}(o.Component)),S=(a(164),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n.onChangeEmail=n.onChangeEmail.bind(Object(g.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/legit",{withCredentials:!0}).then((function(e){console.log(e.data,"this is the response"),e.data&&(window.location="/",console.log(document.cookie+"this cookie"))})).catch((function(e){console.log(e)})),console.log(Date())}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};u.a.post("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/login",t,{withCredentials:!0}).then((function(e){200==e.status&&(alert("Welcome "+e.data.name),window.location="/")})).catch((function(e){console.log(e),window.location="/login"}))}},{key:"render",value:function(){return Object(n.jsx)(f.a,{children:Object(n.jsx)(b.a,{bgcolor:"white",boxShadow:"10",borderColor:"black",borderRadius:"15px",textAlign:"center",p:"30px",mt:"50px",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{id:"loginicon"}),Object(n.jsx)("div",{id:"logincontainer",children:Object(n.jsx)(w.a,{component:"div",id:"logintypo",children:Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Sign In"}),Object(n.jsx)(C.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"email",label:"Email",type:"text",id:"email",onChange:this.onChangeEmail}),Object(n.jsx)(C.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.onChangePassword}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",id:"signupbutton",onClick:this.onSubmit,children:"Sign In"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})})]})})})}}]),a}(o.Component));var N=function(){return Object(o.useEffect)((function(){u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/legit",{withCredentials:!0}).then((function(e){e.data||(window.location="/login")})).catch((function(e){console.log(e)})),u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/logout",{withCredentials:!0}).then((function(e){alert("Logged out successfully"),window.location="/login"})).catch((function(e){console.log(e),alert("Couldn't logout. Please try again or after some time.")}))})),Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:"Thank you for visiting us!"})})},A=a(80),z=a(53),E=a(277),W=a(276),F=a(272),P=a(270),D=a(273),B=a(274),L=a(275),T=a(278),I=a(111),q=a.n(I),U=a(110),_=a.n(U),M=a(112),R=a.n(M),X=a(271),H=a(48),G=(a(165),Object(X.a)((function(e){return{root:{display:"flex"},drawer:Object(z.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(z.a)({},e.breakpoints.up("sm"),{width:"calc(100%)",marginLeft:240}),menuButton:Object(z.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},SearchField:{float:"right"}}})));var Y=function(e){e.window;var t=G(),a=(Object(H.a)(),c.a.useState(!1)),i=Object(d.a)(a,2),s=(i[0],i[1],Object(o.useState)(!1)),r=Object(d.a)(s,2),j=r[0],m=r[1],p=Object(l.e)();return Object(o.useEffect)((function(){u.a.get("http://localhost:4000/user/legit",{withCredentials:!0}).then((function(e){console.log(e.data,"this is the response"),e.data&&(console.log(document.cookie+"this cookie"),m(!0))})).catch((function(e){console.log(e)}))}),[]),t.toolbar,F.a,P.a,["Uploaded","Translated"].map((function(e,t){return Object(n.jsxs)(D.a,{button:!0,children:[Object(n.jsx)(B.a,{children:t%2===0?Object(n.jsx)(_.a,{}):Object(n.jsx)(q.a,{})}),Object(n.jsx)(L.a,{primary:e})]},e)})),F.a,P.a,D.a,B.a,R.a,L.a,Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(W.a,{}),Object(n.jsx)(E.a,{position:"fixed",className:t.appBar,children:Object(n.jsx)(T.a,{children:j?Object(n.jsx)(w.a,{children:"Logged in as Admin"}):Object(n.jsx)(b.a,{textAlign:"center",margin:2,children:Object(n.jsx)(h.a,{variant:"contained",onClick:function(){p.push("/login")},color:"tertiary",children:"Login as Admin"})})})}),Object(n.jsx)("main",{className:t.content,children:Object(n.jsx)("div",{className:t.toolbar})})]})},J=a(281),Q=a(284),Z=a(283),K=a(282),V=a(280),$=a(279),ee=a(289),te=a(288),ae=(a(169),a(170),a(113));a(173);function ne(){return Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)($.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var oe=Object(X.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"100%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},pagination:{float:"right"}}})),ce=null;function ie(){var e=Object(o.useState)(!1),t=Object(d.a)(e,2),a=t[0],i=t[1],s=Object(o.useState)(),r=Object(d.a)(s,2),l=r[0],j=r[1],b=Object(o.useState)(),m=Object(d.a)(b,2),p=m[0],g=m[1],O=Object(o.useState)([]),x=Object(d.a)(O,2),v=x[0],y=x[1],k=Object(o.useState)([]),S=Object(d.a)(k,2),N=S[0],z=S[1],W=Object(o.useState)(!1),F=Object(d.a)(W,2),P=F[0],D=F[1];Object(o.useEffect)((function(){u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/allbooks").then((function(e){z(e.data),console.log("booksinfo it sis",e.data)})).catch((function(e){})),u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/legit",{withCredentials:!0}).then((function(e){console.log(e.data,"this is the response"),e.data&&(console.log(document.cookie+"this cookie"),D(!0))})).catch((function(e){console.log(e)}))}),[]);var B=c.a.useState(1),L=Object(d.a)(B,2),T=L[0],I=L[1],q=oe();return Object(n.jsx)("div",{id:"foo",align:"center",children:Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsx)(E.a,{position:"relative"}),Object(n.jsxs)("main",{children:[Object(n.jsx)("div",{className:q.heroContent,children:Object(n.jsxs)(f.a,{maxWidth:"sm",children:[Object(n.jsx)(w.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Library"}),Object(n.jsx)(w.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0})]})}),Object(n.jsxs)(f.a,{className:q.cardGrid,maxWidth:"md",children:[Object(n.jsx)(V.a,{container:!0,spacing:4,children:N.map((function(e,t){return Object(n.jsx)(V.a,{item:!0,xs:10,sm:4,md:4,children:Object(n.jsxs)(J.a,{className:q.card,children:[Object(n.jsx)(K.a,{className:q.cardMedia,image:"http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/thumbnail/"+N[t].file_name,title:N[t].title}),Object(n.jsxs)(Z.a,{className:q.cardContent,children:[Object(n.jsxs)(w.a,{children:["Title: ",N[t].title]}),Object(n.jsxs)(w.a,{children:["Author: ",N[t].author_name]}),Object(n.jsxs)(w.a,{children:["Language: ",N[t].language]})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(h.a,{size:"small",color:"primary",onClick:function(){var e;e=t,console.log("i was called"),window.location="/viewBook?book_name="+N[e].file_name},children:"View"}),!!P&&Object(n.jsx)(h.a,{size:"small",color:"primary",children:"Delete"})]})]})},e._id)}))}),Object(n.jsx)("div",{className:q.pagination,children:Object(n.jsx)(ee.a,{count:10,page:T,onChange:function(e,t){I(t)}})})]})]}),!!P&&Object(n.jsxs)("footer",{className:q.footer,children:[Object(n.jsx)("div",{children:a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{onSubmit:function(){var e=new FormData;console.log(ce),e.append("file",ce),e.append("title",l),e.append("author_name",p),e.append("language",v),u.a.post("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/upload/",e).then((function(e){console.log(e.data),alert(e.data),window.location.reload()})).catch((function(e){console.log(e)})),j(""),g(""),y([]),i(!1)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Title: "}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return j(e.target.value)},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Author: "}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return g(e.target.value)},required:!0})]}),Object(n.jsx)(te.a,{freeSolo:!0,multiple:!0,id:"combo-box-demo",options:["Telugu","Hindi"].map((function(e){return e})),getOptionLabel:function(e){return e},onChange:function(e,t){y(t)},renderInput:function(e){return Object(n.jsx)(C.a,Object(A.a)(Object(A.a)({},e),{},{label:"Translation Languages",variant:"outlined"}))}}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Upload",className:"btn btn-primary"})})]}),Object(n.jsx)("form",{onSubmit:function(){j(""),g(""),y([]),i(!1)},children:Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Cancel",className:"btn btn-secondary"})})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ae.StyledDropZone,{onDrop:function(e,t){ce=e,alert("ok"),i(!0)}})})}),Object(n.jsx)(ne,{})]})]})})}var se=a(285),re=(a(174),c.a.Component,a(81)),le=a.n(re);a(208);function de(){var e=Object(l.f)().search,t=new URLSearchParams(e).get("book_name");console.log("this is the book name",t);var a=Object(o.useState)(!1),c=Object(d.a)(a,2),i=c[0],s=c[1],r=Object(o.useState)("https://dass-team-23.s3.ap-south-1.amazonaws.com/files/1617744591013-Assignment1-3.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIA3BOLL3RQUMBQY2NC%2F20210406%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20210406T220515Z&X-Amz-Expires=3600&X-Amz-Signature=6e22f11fd7cd9286aad53b1fb90e3d40b9c58a86bcbcf16504e76137bc6f8d46&X-Amz-SignedHeaders=host"),j=Object(d.a)(r,2),h=j[0],b=j[1];return Object(o.useEffect)((function(){u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/legit",{withCredentials:!0}).then((function(e){e.data&&s(!0)})).catch((function(e){console.log(e)})),u.a.get("http://ec2-13-127-23-9.ap-south-1.compute.amazonaws.com/user/downloadpdf/"+t).then((function(e){console.log(e.data.url),b(e.data.url)}))}),[]),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"AppI",children:[!!i&&Object(n.jsx)("div",{className:"dropdown",align:"left",children:Object(n.jsxs)(se.a,{children:[Object(n.jsx)(se.a.Toggle,{variant:"secondary btn-sm",id:"dropdown-basicc",children:"Language"}),Object(n.jsxs)(se.a.Menu,{style:{backgroundColor:"#00FFFF"},children:[Object(n.jsx)(se.a.Item,{href:"#",children:"Hindi"}),Object(n.jsx)(se.a.Item,{href:"#",children:"Telugu"}),Object(n.jsx)(se.a.Item,{href:"#",children:"English"})]})]})}),Object(n.jsx)("div",{children:Object(n.jsx)(re.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.6.347/build/pdf.worker.min.js",children:Object(n.jsx)("div",{id:"pdfviewer",children:Object(n.jsx)(le.a,{fileUrl:h})})})})]})})}var je=function(){return Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(l.a,{path:"/register",component:k}),Object(n.jsx)(l.a,{path:"/login",component:S}),Object(n.jsx)(l.a,{path:"/logout",component:N}),Object(n.jsx)(l.a,{path:"/",exact:!0,component:ie}),Object(n.jsx)(l.a,{path:"/viewBook",component:de})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(je,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[210,1,2]]]);
//# sourceMappingURL=main.b29950c6.chunk.js.map